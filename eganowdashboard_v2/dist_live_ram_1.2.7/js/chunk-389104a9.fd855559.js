(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-389104a9"],{"24d4":function(t,e,s){"use strict";e["a"]={title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}},"68b2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("CustomHeaderAlert",{attrs:{message:t.message}}),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.GetActiveOrPinResettingCustomers.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3 col-md-3"},[e("div",{staticClass:"row"},[e("label",[t._v("Customer Status")]),e("multiselect",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.vErrors.has("customerStatus")},attrs:{name:"customerStatus",options:t.customerStatusvalues},model:{value:t.customerStatus,callback:function(e){t.customerStatus=e},expression:"customerStatus"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.vErrors.has("customerStatus"),expression:"vErrors.has('customerStatus')"}],staticClass:"help text-danger"},[t._v(t._s(t.vErrors.first("customerStatus")))])],1)]),t._m(0)])]),e("div",{staticClass:"row mb-md-2"},[e("div",{staticClass:"col-sm-12 col-md-6"},[e("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[e("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Show  "),e("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v(" entries ")],1)])]),e("div",{staticClass:"col-sm-12 col-md-6"},[e("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[e("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Search: "),e("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)])])]),e("div",{staticClass:"table-responsive mb-0",attrs:{id:"table"}},[e("b-table",{attrs:{items:t.activePinResettingCustomers,fields:t.tableFields,responsive:"sm","per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(actions)",fn:function(s){return[e("a",{staticClass:"text-danger mr-2",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.TerminateCustomer(s.item)}}},[e("i",{staticClass:"mdi mdi-trash-can"}),t._v(" Terminate")])]}}])})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[e("ul",{staticClass:"pagination pagination-rounded mb-0"},[e("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])])])],1)},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-2 col-md-2"},[e("label",{staticClass:"mb-3"}),e("div",{staticClass:"form-group mb-3"},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"bkcolor",type:"submit"}},[t._v(" Get customers ")])])])}],i=(s("14d9"),s("8e5f")),o=s.n(i),n=s("666c"),l=s("6e5c"),c=s.n(l),u=s("4d1b"),m=s("24d4"),d=s("53e5"),g={components:{Multiselect:o.a,CustomHeaderAlert:n["default"]},data(){return{message:"Place to terminate active customers",clients:{},activePinResettingCustomers:[],customerStatus:"",customerStatusvalues:["ACTIVE","PIN RESETTING"],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"account_number",sortDesc:!1,tableFields:[{label:"Account number",key:"accountNumber",sortable:!0},{label:"Account name",key:"customerNameAtRegistration",sortable:!0},{label:"Mobile number",key:"mobileNumber",sortable:!0},{label:"Date created",key:"makeDateTime",sortable:!0},{key:"actions",sortable:!0}]}},computed:{rows(){return this.activePinResettingCustomers.length}},mounted(){},created(){this.clients=new c.a.MerchantMiddlewareCustomerSvcClient(u["a"].URL,null,null),this.GetActiveOrPinResettingCustomers(),this.sweetAlert=new d["a"],this.$store.dispatch("setAppHeader",{title:"Termination Request",items:[{text:"Dashboard",href:"#"},{text:"Termination Request",href:"/merchant/terminate"}]})},methods:{GetActiveOrPinResettingCustomers(){try{this.activePinResettingCustomers=[];const t=new c.a.UsersByCIDRequestMessage;t.setCountrycode(this.$store.getters.getUserInfo.countryCode),t.setSubscriptionstatus(""===this.customerStatus?"ACTIVE":this.customerStatus),this.customerStatus="ACTIVE",this.clients.getUsersByMerchantId(t,this.$store.getters.metadata,(t,e)=>{t&&console.log(" error : ",t),e&&e.getUserslistList().forEach(t=>{this.activePinResettingCustomers.push({accountNumber:t.getAccountnumber(),customerNameAtRegistration:t.getCustomernameatregistration(),mobileNumber:t.getMobilenumber(),makeDateTime:t.getMakedatetime(),userId:t.getUserid(),cID:t.getCid()})})})}catch(t){console.log(" error : ",t.message)}},TerminateCustomer(t){try{this.sweetAlert.showDialogYesOrNo(Object.assign(m["a"],{confirmButtonText:"Yes, terminate"}),()=>{const e=new c.a.MerchantCustomerTerminateServiceMessage;e.setMobileno(t.mobileNumber),e.setCid(t.cID),e.setTerminationstatus("PENDING"),this.clients.merchantCustomerTerminateServiceRequest(e,this.$store.getters.metadata,(t,e)=>{t&&console.log(" Error : ",t),e.getIssuccess()?(console.log(" Response : ",e.getIssuccess()),console.log(" Pay partner : ",e.getPaypartnerid()),this.GetActiveOrPinResettingCustomers(),this.sweetAlert.showMessage("Terminate customer ",e.getMessagesuccessfulorfailed())):this.responseMessage=e.getMessagesuccessfulorfailed()})})}catch(e){console.log(" Error : ",e.message)}},onFiltered(t){this.totalRows=t.length,this.currentPage=1}}},b=g,p=s("2877"),v=Object(p["a"])(b,a,r,!1,null,"6b9ac74e",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-389104a9.fd855559.js.map