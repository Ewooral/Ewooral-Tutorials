(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-389104a9"],{"24d4":function(t,e,s){"use strict";e["a"]={title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}},"68b2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("CustomHeaderAlert",{attrs:{message:t.message}}),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.GetActiveOrPinResettingCustomers.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3 col-md-3"},[s("div",{staticClass:"row"},[s("label",[t._v("Customer Status")]),s("multiselect",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.vErrors.has("customerStatus")},attrs:{name:"customerStatus",options:t.customerStatusvalues},model:{value:t.customerStatus,callback:function(e){t.customerStatus=e},expression:"customerStatus"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.vErrors.has("customerStatus"),expression:"vErrors.has('customerStatus')"}],staticClass:"help text-danger"},[t._v(t._s(t.vErrors.first("customerStatus")))])],1)]),t._m(0)])]),s("div",{staticClass:"row mb-md-2"},[s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Show  "),s("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v(" entries ")],1)])]),s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Search: "),s("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)])])]),s("div",{staticClass:"table-responsive mb-0",attrs:{id:"table"}},[s("b-table",{attrs:{items:t.activePinResettingCustomers,fields:t.tableFields,responsive:"sm","per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[s("a",{staticClass:"text-danger mr-2",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.TerminateCustomer(e.item)}}},[s("i",{staticClass:"mdi mdi-trash-can"}),t._v(" Terminate")])]}}])})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[s("ul",{staticClass:"pagination pagination-rounded mb-0"},[s("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-2 col-md-2"},[s("label",{staticClass:"mb-3"}),s("div",{staticClass:"form-group mb-3"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"bkcolor",type:"submit"}},[t._v(" Get customers ")])])])}],i=(s("d3b7"),s("159b"),s("8e5f")),o=s.n(i),n=s("666c"),c=s("6e5c"),l=s.n(c),u=s("4d1b"),m=s("24d4"),d=s("53e5"),g={components:{Multiselect:o.a,CustomHeaderAlert:n["default"]},data:function(){return{message:"Place to terminate active customers",clients:{},activePinResettingCustomers:[],customerStatus:"",customerStatusvalues:["ACTIVE","PIN RESETTING"],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"account_number",sortDesc:!1,tableFields:[{label:"Account number",key:"accountNumber",sortable:!0},{label:"Account name",key:"customerNameAtRegistration",sortable:!0},{label:"Mobile number",key:"mobileNumber",sortable:!0},{label:"Date created",key:"makeDateTime",sortable:!0},{key:"actions",sortable:!0}]}},computed:{rows:function(){return this.activePinResettingCustomers.length}},mounted:function(){},created:function(){this.clients=new l.a.MerchantMiddlewareCustomerSvcClient(u["a"].URL,null,null),this.GetActiveOrPinResettingCustomers(),this.sweetAlert=new d["a"],this.$store.dispatch("setAppHeader",{title:"Termination Request",items:[{text:"Dashboard",href:"#"},{text:"Termination Request",href:"/merchant/terminate"}]})},methods:{GetActiveOrPinResettingCustomers:function(){var t=this;try{this.activePinResettingCustomers=[];var e=new l.a.UsersByCIDRequestMessage;e.setCountrycode(this.$store.getters.getUserInfo.countryCode),e.setSubscriptionstatus(""===this.customerStatus?"ACTIVE":this.customerStatus),this.customerStatus="ACTIVE",this.clients.getUsersByMerchantId(e,this.$store.getters.metadata,(function(e,s){e&&console.log(" error : ",e),s&&s.getUserslistList().forEach((function(e){t.activePinResettingCustomers.push({accountNumber:e.getAccountnumber(),customerNameAtRegistration:e.getCustomernameatregistration(),mobileNumber:e.getMobilenumber(),makeDateTime:e.getMakedatetime(),userId:e.getUserid(),cID:e.getCid()})}))}))}catch(s){console.log(" error : ",s.message)}},TerminateCustomer:function(t){var e=this;try{this.sweetAlert.showDialogYesOrNo(Object.assign(m["a"],{confirmButtonText:"Yes, terminate"}),(function(){var s=new l.a.MerchantCustomerTerminateServiceMessage;s.setMobileno(t.mobileNumber),s.setCid(t.cID),s.setTerminationstatus("PENDING"),e.clients.merchantCustomerTerminateServiceRequest(s,e.$store.getters.metadata,(function(t,s){t&&console.log(" Error : ",t),s.getIssuccess()?(console.log(" Response : ",s.getIssuccess()),console.log(" Pay partner : ",s.getPaypartnerid()),e.GetActiveOrPinResettingCustomers(),e.sweetAlert.showMessage("Terminate customer ",s.getMessagesuccessfulorfailed())):e.responseMessage=s.getMessagesuccessfulorfailed()}))}))}catch(s){console.log(" Error : ",s.message)}},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},b=g,v=s("2877"),f=Object(v["a"])(b,a,r,!1,null,"6b9ac74e",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-389104a9.48804d2d.js.map