(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd6bf764"],{"24d4":function(e,t,s){"use strict";t["a"]={title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}},cb6d:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("CustomHeaderAlert",{attrs:{message:e.message}}),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.GetPendingCustomersToTerminate.apply(null,arguments)}}},[e._m(0)]),s("div",{staticClass:"row mb-md-2"},[s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Show  "),s("b-form-select",{attrs:{size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),e._v(" entries ")],1)])]),s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Search: "),s("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)])])]),s("div",{staticClass:"table-responsive mb-0",attrs:{id:"table"}},[s("b-table",{attrs:{items:e.customerpendingterminationapproval,fields:e.tableFields,responsive:"sm","per-page":e.perPage,"current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,filter:e.filter,"filter-included-fields":e.filterOn},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[s("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-responsive",modifiers:{"modal-responsive":!0}}],staticClass:"text-primary mr-2",on:{click:function(s){return e.ViewTerminationCustomer(t.item)}}},[s("i",{staticClass:"mdi mdi-eye"}),e._v(" View")]),s("a",{staticClass:"text-success mr-2",staticStyle:{cursor:"pointer"},on:{click:function(s){return e.ApproveCustomerTermination(t.item)}}},[s("i",{staticClass:"mdi mdi-check"}),e._v(" Approve")]),s("a",{staticClass:"text-danger mr-2",staticStyle:{cursor:"pointer"},on:{click:function(s){return e.DisApproveCustomerTermination(t.item)}}},[s("i",{staticClass:"mdi mdi-trash-can"}),e._v(" Disapprove")])]}}])})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[s("ul",{staticClass:"pagination pagination-rounded mb-0"},[s("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])])])])])])]),s("b-modal",{attrs:{id:"modal-responsive",title:"View customer pending termination","title-class":"font-18","body-class":"p-4"}},[s("div",{staticClass:"form-group mb-3"},[s("label",[e._v("Account name ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.viewcustomer.customername,expression:"viewcustomer.customername"}],staticClass:"form-control",attrs:{type:"text",name:"customername",readonly:""},domProps:{value:e.viewcustomer.customername},on:{input:function(t){t.target.composing||e.$set(e.viewcustomer,"customername",t.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("label",[e._v("Mobile number")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.viewcustomer.mobilenumber,expression:"viewcustomer.mobilenumber"}],staticClass:"form-control",attrs:{type:"text",name:"mobilenumber",readonly:""},domProps:{value:e.viewcustomer.mobilenumber},on:{input:function(t){t.target.composing||e.$set(e.viewcustomer,"mobilenumber",t.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("label",[e._v(" Requested date ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.viewcustomer.requestdate,expression:"viewcustomer.requestdate"}],staticClass:"form-control",attrs:{type:"text",name:"requestdate",readonly:""},domProps:{value:e.viewcustomer.requestdate},on:{input:function(t){t.target.composing||e.$set(e.viewcustomer,"requestdate",t.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("label",[e._v(" TID ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.viewcustomer.tid,expression:"viewcustomer.tid"}],staticClass:"form-control",attrs:{type:"text",name:"tid",readonly:""},domProps:{value:e.viewcustomer.tid},on:{input:function(t){t.target.composing||e.$set(e.viewcustomer,"tid",t.target.value)}}})])])],1)},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3 col-md-3"},[s("div",{staticClass:"form-group mb-3"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"bkcolor",type:"submit"}},[e._v(" Get pending termination requests ")])])])])}],i=(s("d3b7"),s("159b"),s("666c")),a=s("6e5c"),n=s.n(a),l=s("4d1b"),c=s("53e5"),m=s("24d4"),u={components:{CustomHeaderAlert:i["default"]},data:function(){return{message:"Approve customers to be terminated",clients:{},customerpendingterminationapproval:[],viewcustomer:{tid:"",customername:"",mobilenumber:"",requestdate:""},totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"mobileNo",sortDesc:!1,tableFields:[{label:"TID",key:"tid",sortable:!0},{label:"Customer name",key:"customername",sortable:!0},{label:"Mobile number",key:"mobileNo",sortable:!0},{label:"Requested date",key:"requestDate",sortable:!0},{key:"actions",sortable:!0}]}},methods:{GetPendingCustomersToTerminate:function(){var e=this;try{this.customerpendingterminationapproval=[];var t=new n.a.UsersByCIDRequestMessage;t.setCountrycode(this.$store.getters.getUserInfo.countryCode),t.setSubscriptionstatus("PENDING"),this.clients.getMerchantCustomerTerminateServiceRequest(t,this.$store.getters.metadata,(function(t,s){t&&console.log(" error : ",t),s&&s.getCustlistList().forEach((function(t){e.customerpendingterminationapproval.push({mobileNo:t.getMobileno(),cid:t.getCid(),customername:t.getCustomername(),makerId:t.getMakerid(),requestDate:t.getRequestdate(),tid:t.getTid()})}))}))}catch(s){console.log(" error : ",s.message)}},ApproveCustomerTermination:function(e){var t=this;try{this.sweetAlert.showDialogYesOrNo(Object.assign(m["a"],{title:"Approve termination ?",confirmButtonText:"Yes, approve"}),(function(){var s=new n.a.MerchantCustomerPINChangeApproveMessage;s.setTid(e.tid),s.setMobileno(e.mobileNo),s.setCid(e.cid),s.setSubscriptionstatus(""),s.setApproveordisapprove("APPROVED"),t.clients.merchantCustomerTerminateServiceRequestApproval(s,t.$store.getters.metadata,(function(e,s){e&&console.log(" Error : ",e),s.getIssuccess()?(t.GetPendingCustomersToTerminate(),t.sweetAlert.showMessage("Termination approval ",s.getMessagesuccessfulorfailed())):t.responseMessage=s.getMessagesuccessfulorfailed()}))}))}catch(s){console.log(" Error : ",s.message)}},DisApproveCustomerTermination:function(e){var t=this;try{this.sweetAlert.showDialogYesOrNo(Object.assign(m["a"],{title:"Disapprove termination ?",confirmButtonText:"Yes, disapprove"}),(function(){var s=new n.a.MerchantCustomerPINChangeApproveMessage;s.setTid(e.tid),s.setMobileno(e.mobileNo),s.setCid(e.cid),s.setSubscriptionstatus(""),s.setApproveordisapprove("DISAPPROVED"),t.clients.merchantCustomerTerminateServiceRequestApproval(s,t.$store.getters.metadata,(function(e,s){e&&console.log(" Error : ",e),s.getIssuccess()?(t.GetPendingCustomersToTerminate(),t.sweetAlert.showMessage("Termination approval ",s.getMessagesuccessfulorfailed())):t.responseMessage=s.getMessagesuccessfulorfailed()}))}))}catch(s){console.log(" Error : ",s.message)}},ViewTerminationCustomer:function(e){this.viewcustomer.customername=e.customername,this.viewcustomer.mobilenumber=e.mobileNo,this.viewcustomer.tid=e.tid,this.viewcustomer.requestdate=e.requestDate},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},computed:{rows:function(){return this.customerpendingterminationapproval.length}},mounted:function(){},created:function(){this.clients=new n.a.MerchantMiddlewareCustomerSvcClient(l["a"].URL,null,null),this.sweetAlert=new c["a"],this.GetPendingCustomersToTerminate(),this.$store.dispatch("setAppHeader",{title:"Approve Termination",items:[{text:"Dashboard",href:"#"},{text:"Approve Termination",href:"/merchant/terminate"}]})}},d=u,p=s("2877"),v=Object(p["a"])(d,r,o,!1,null,"2cd597ce",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-dd6bf764.b78014dd.js.map