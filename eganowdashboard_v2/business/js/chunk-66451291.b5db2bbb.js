(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66451291","chunk-2d213ca8"],{3140:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-overlay",{attrs:{show:e.showLoader,rounded:"sm"}},[s("div",{staticClass:"row"},[s("CustomHeaderAlert",{attrs:{message:e.headertext}}),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[e.responseMessage?s("AlertMessage",{attrs:{variant:e.dangerSuccess,message:e.responseMessage}}):e._e(),s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.GetCustomersByStatus.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3 col-md-3"},[s("div",{staticClass:"row"},[s("label",[e._v("Customer Status")]),s("multiselect",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":e.vErrors.has("customerStatus")},attrs:{name:"customerStatus",options:e.customerStatusvalues},model:{value:e.customerStatus,callback:function(t){e.customerStatus=t},expression:"customerStatus"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.vErrors.has("customerStatus"),expression:"vErrors.has('customerStatus')"}],staticClass:"help text-danger"},[e._v(e._s(e.vErrors.first("customerStatus")))])],1)]),s("div",{staticClass:"col-lg-3 col-md-3"},[s("label",{staticClass:"mb-3"}),s("div",{staticClass:"form-group mb-3"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"bkcolor",type:"submit"}},[e._v(" Get customers ")])])]),s("div",{staticClass:"col-lg-6 col-md-6"},[s("label",{staticClass:"mb-3"}),s("div",{staticClass:"form-group mb-3  text-right"},[s("b-button",{staticClass:"mdi mdi-help-circle mr-1 text-primary",attrs:{id:"tooltip-left-button",variant:"light"}},[e._v(" help")]),s("b-tooltip",{attrs:{target:"tooltip-left-button",placement:"left"}},[e._v(" Can view active customers and customers yet to be approved (i.e pending customers) ")])],1)])])]),s("div",{staticClass:"row mb-md-2"},[s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Show  "),s("b-form-select",{attrs:{size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),e._v(" entries ")],1)])]),s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Search: "),s("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)])])]),s("div",{staticClass:"table-responsive mb-0",attrs:{id:"table"}},[s("b-table",{attrs:{items:e.customersbystatus,fields:e.tableFields,responsive:"sm","per-page":e.perPage,"current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,filter:e.filter,"filter-included-fields":e.filterOn},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[s("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-responsive",modifiers:{"modal-responsive":!0}}],staticClass:"text-primary mr-2",on:{click:function(s){return e.ViewCustomer(t.item)}}},[s("i",{staticClass:"mdi mdi-eye"}),e._v(" View")])]}}])})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[s("ul",{staticClass:"pagination pagination-rounded mb-0"},[s("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])])])],1)])])]),s("b-modal",{attrs:{id:"modal-responsive",title:"View pending or active customer","title-class":"font-18","body-class":"p-4"}},[s("div",{staticClass:"form-group mb-3"},[s("label",[e._v("Account name ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.viewCustomer.accountname,expression:"viewCustomer.accountname"}],staticClass:"form-control",attrs:{type:"text",name:"accountname",readonly:""},domProps:{value:e.viewCustomer.accountname},on:{input:function(t){t.target.composing||e.$set(e.viewCustomer,"accountname",t.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("label",[e._v("Account number")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.viewCustomer.accountnumber,expression:"viewCustomer.accountnumber"}],staticClass:"form-control",attrs:{type:"text",name:"accountnumber",readonly:""},domProps:{value:e.viewCustomer.accountnumber},on:{input:function(t){t.target.composing||e.$set(e.viewCustomer,"accountnumber",t.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("label",[e._v(" Mobile number ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.viewCustomer.mobilenumber,expression:"viewCustomer.mobilenumber"}],staticClass:"form-control",attrs:{type:"text",name:"mobileNumber",readonly:""},domProps:{value:e.viewCustomer.mobilenumber},on:{input:function(t){t.target.composing||e.$set(e.viewCustomer,"mobilenumber",t.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("label",[e._v(" Date created ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.viewCustomer.createddate,expression:"viewCustomer.createddate"}],staticClass:"form-control",attrs:{type:"text",name:"createddate",readonly:""},domProps:{value:e.viewCustomer.createddate},on:{input:function(t){t.target.composing||e.$set(e.viewCustomer,"createddate",t.target.value)}}})])])],1)])},r=[],o=(s("d3b7"),s("159b"),s("8e5f")),i=s.n(o),n=s("6e5c"),l=s.n(n),c=s("4d1b"),u=s("666c"),m=s("add3"),d={components:{Multiselect:i.a,CustomHeaderAlert:u["default"],AlertMessage:m["default"]},clients:{},data:function(){return{showLoader:!1,status:!0,dangerSuccess:"danger",responseMessage:"",headertext:"Can view active customers and customers yet to be approved (i.e pending customers)",customerStatus:"",customerStatusvalues:["PENDING","ACTIVE"],viewCustomer:{accountnumber:"",mobilenumber:"",accountname:"",cid:"",userId:"",createddate:""},customersbystatus:[],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"account_number",sortDesc:!1,tableFields:[{label:"Account number",key:"accountNumber",sortable:!0},{label:"Account name",key:"customerNameAtRegistration",sortable:!0},{label:"Mobile number",key:"mobileNumber",sortable:!0},{label:"Date created",key:"makeDateTime",sortable:!0},{key:"actions",sortable:!0}]}},methods:{GetCustomersByStatus:function(){var e=this;try{this.customersbystatus=[];var t=new l.a.UsersByCIDRequestMessage;t.setCountrycode(this.$store.getters.getUserInfo.countryCode),t.setSubscriptionstatus(""===this.customerStatus?"ACTIVE":this.customerStatus),this.showLoader=!0,this.clients.getUsersByMerchantId(t,this.$store.getters.metadata,(function(t,s){e.showLoader=!1,t&&console.log(" error : ",t),s?s.getUserslistList().forEach((function(t){e.customersbystatus.push({accountNumber:t.getAccountnumber(),customerNameAtRegistration:t.getCustomernameatregistration(),mobileNumber:t.getMobilenumber(),makeDateTime:t.getMakedatetime(),userId:t.getUserid(),cID:t.getCid()})})):e.responseMessage=c["a"].serverError}))}catch(s){console.log(" error : ",s.message)}},ViewCustomer:function(e){try{this.viewCustomer.accountname=e.customerNameAtRegistration,this.viewCustomer.accountnumber=e.accountNumber,this.viewCustomer.mobilenumber=e.mobileNumber,this.viewCustomer.createddate=e.makeDateTime}catch(t){console.log(t.message)}},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},created:function(){this.clients=new l.a.MerchantMiddlewareCustomerSvcClient(c["a"].URL,null,null),this.GetCustomersByStatus(),this.$store.dispatch("setAppHeader",{title:"View Customers",items:[{text:"Dashboard",href:"#"},{text:"View Customers",href:"/merchant/viewcustomers"}]})},computed:{rows:function(){return this.customersbystatus.length}},mounted:function(){this.totalRows=this.customersbystatus.length}},v=d,b=s("2877"),p=Object(b["a"])(v,a,r,!1,null,"691e54ec",null);t["default"]=p.exports},add3:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("b-alert",{attrs:{show:"",dismissible:"",variant:e.variant}},[e._v(e._s(e.message))])],1)])},r=[],o={props:{variant:{type:String},message:{type:String}}},i=o,n=s("2877"),l=Object(n["a"])(i,a,r,!1,null,"3b3ceb91",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-66451291.b5db2bbb.js.map